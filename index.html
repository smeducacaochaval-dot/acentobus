<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>AcentoBus</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#1976d2;color:white;text-align:center}
.card{background:white;color:black;margin:40px auto;padding:20px;border-radius:15px;width:300px}
input,button{width:100%;padding:10px;margin-top:10px}
button{background:#1976d2;color:white;border:none;border-radius:8px}
.hidden{display:none}
</style>
</head>
<body>

<div class="card" id="loginUser">
  <h2>AcentoBus</h2>
  <input id="nome" placeholder="Seu nome">
  <input id="codigo" placeholder="Seu código">
  <button onclick="entrarUsuario()">Entrar</button>
  <br><br>
  <button onclick="mostrarAdmin()">Sou Administrador</button>
</div>

<div class="card hidden" id="loginAdmin">
  <h3>Login do Administrador</h3>
  <input id="adminUser" placeholder="Usuário">
  <input id="adminPass" type="password" placeholder="Senha">
  <button onclick="entrarAdmin()">Entrar</button>
  <button onclick="voltar()">Voltar</button>
</div>

<div class="card hidden" id="painelAdmin">
  <h3>Painel do Administrador</h3>

  <h4>Alterar senha</h4>
  <input id="novaSenha" type="password" placeholder="Nova senha">
  <button onclick="trocarSenha()">Salvar nova senha</button>

  <br><br>
  <button onclick="sair()">Sair</button>
</div>

<div class="card hidden" id="painelUser">
  <h3>Escolha o ônibus</h3>
  <div id="listaOnibus"></div>
  <button onclick="sair()">Sair</button>
</div>

<script>
const ADMIN_USER = "smechaval";
let ADMIN_PASS = localStorage.getItem("adminPass") || "smech@v@l";

function horaPermitida(){
  const h = new Date().getHours();
  return h >= 8 && h < 17;
}

function mostrarAdmin(){
  document.getElementById("loginUser").classList.add("hidden");
  document.getElementById("loginAdmin").classList.remove("hidden");
}

function voltar(){
  document.getElementById("loginAdmin").classList.add("hidden");
  document.getElementById("loginUser").classList.remove("hidden");
}

function entrarAdmin(){
  const u = adminUser.value;
  const p = adminPass.value;
  if(u===ADMIN_USER && p===ADMIN_PASS){
    loginAdmin.classList.add("hidden");
    painelAdmin.classList.remove("hidden");
  } else alert("Usuário ou senha incorretos");
}

function trocarSenha(){
  const nova = novaSenha.value;
  if(!nova){alert("Digite a nova senha");return;}
  ADMIN_PASS=nova;
  localStorage.setItem
